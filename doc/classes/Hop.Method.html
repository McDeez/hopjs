<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Hop.Method</title>
    <link rel="stylesheet" href="http:&#x2F;&#x2F;yui.yahooapis.com&#x2F;3.5.1&#x2F;build&#x2F;cssgrids&#x2F;cssgrids-min.css">
    <link rel="stylesheet" href="..&#x2F;assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="..&#x2F;assets/css/main.css" id="site_styles">
    <link rel="shortcut icon" type="image/png" href="..&#x2F;assets/favicon.png">
    <script src="http:&#x2F;&#x2F;yui.yahooapis.com&#x2F;combo?3.5.1&#x2F;build&#x2F;yui&#x2F;yui-min.js"></script>
</head>
<body class="yui3-skin-sam">

<div id="doc">
    <div id="hd" class="yui3-g header">
        <div class="yui3-u-3-4">
            
                <h1><img src="..&#x2F;assets/css/logo.png" title=""></h1>
            
        </div>
        <div class="yui3-u-1-4 version">
            <em>API Docs for: </em>
        </div>
    </div>
    <div id="bd" class="yui3-g">

        <div class="yui3-u-1-4">
            <div id="docs-sidebar" class="sidebar apidocs">
                <div id="api-list">
    <h2 class="off-left">APIs</h2>
    <div id="api-tabview" class="tabview">
        <ul class="tabs">
            <li><a href="#api-classes">Classes</a></li>
            <li><a href="#api-modules">Modules</a></li>
        </ul>

        <div id="api-tabview-filter">
            <input type="search" id="api-filter" placeholder="Type to filter APIs">
        </div>

        <div id="api-tabview-panel">
            <ul id="api-classes" class="apis classes">
            
                <li><a href="..&#x2F;classes/Hop.html">Hop</a></li>
            
                <li><a href="..&#x2F;classes/Hop.CodeGenerator.html">Hop.CodeGenerator</a></li>
            
                <li><a href="..&#x2F;classes/Hop.Method.html">Hop.Method</a></li>
            
                <li><a href="..&#x2F;classes/Hop.Object.html">Hop.Object</a></li>
            
                <li><a href="..&#x2F;classes/Hop.StubRequest.html">Hop.StubRequest</a></li>
            
                <li><a href="..&#x2F;classes/Hop.StubResponse.html">Hop.StubResponse</a></li>
            
                <li><a href="..&#x2F;classes/Hop.TestCase.html">Hop.TestCase</a></li>
            
                <li><a href="..&#x2F;classes/Hop.TestTask.html">Hop.TestTask</a></li>
            
                <li><a href="..&#x2F;classes/Hop.TestUtils.html">Hop.TestUtils</a></li>
            
                <li><a href="..&#x2F;classes/Hop.User.html">Hop.User</a></li>
            
            </ul>

            <ul id="api-modules" class="apis modules">
            
                <li><a href="..&#x2F;modules/Cache.html">Cache</a></li>
            
                <li><a href="..&#x2F;modules/CodeGenerator.html">CodeGenerator</a></li>
            
                <li><a href="..&#x2F;modules/Event.html">Event</a></li>
            
                <li><a href="..&#x2F;modules/Hop.html">Hop</a></li>
            
                <li><a href="..&#x2F;modules/Job.html">Job</a></li>
            
                <li><a href="..&#x2F;modules/Test.html">Test</a></li>
            
                <li><a href="..&#x2F;modules/User.html">User</a></li>
            
            </ul>
        </div>
    </div>
</div>

            </div>
        </div>
        <div class="yui3-u-3-4">
                <div id="api-options">
        Show:
        <label for="api-show-inherited">
            <input type="checkbox" id="api-show-inherited" checked>
            Inherited
        </label>

        <label for="api-show-protected">
            <input type="checkbox" id="api-show-protected">
            Protected
        </label>

        <label for="api-show-private">
            <input type="checkbox" id="api-show-private">
            Private
        </label>
        <label for="api-show-deprecated">
            <input type="checkbox" id="api-show-deprecated">
            Deprecated
        </label>

    </div>


            <div class="apidocs">
                <div id="docs-main">
                    <div class="content">
                        <h1>Hop.Method Class</h1>
<div class="box meta">
    

    

    
        <div class="foundat">
            Defined in: <a href="..&#x2F;files&#x2F;lib_api.js.html#l584"><code>lib&#x2F;api.js:584</code></a>
        </div>
    

    
        
            Module: <a href="../modules/Hop.html">Hop</a>
        
    

    
</div>



<div class="box intro">
    <p>Class used to define methods</p>
</div>


    <div class="constructor">
        <h2>Constructor</h2>
        <div id="method_Hop.Method" class="method item">
    <h3 class="name"><code>Hop.Method</code></h3>

    
        <span class="paren">()</span>
    

    

    

    

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="..&#x2F;files&#x2F;lib_api.js.html#l584"><code>lib&#x2F;api.js:584</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        
    </div>

    

    

    
</div>

    </div>


<div id="classdocs" class="tabview">
    <ul class="api-class-tabs">
        <li class="api-class-tab index"><a href="#index">Index</a></li>

        
            <li class="api-class-tab methods"><a href="#methods">Methods</a></li>
        
        
        
        
    </ul>

    <div>
        <div id="index" class="api-class-tabpanel index">
            <h2 class="off-left">Item Index</h2>

            
                <div class="index-section methods">
                    <h3>Methods</h3>

                    <ul class="index-list methods">
                        
                            <li class="index-item method">
                                <a href="#method_addPostCall">addPostCall</a>

                                
                                
                            </li>
                        
                            <li class="index-item method">
                                <a href="#method_addPreCall">addPreCall</a>

                                
                                
                            </li>
                        
                            <li class="index-item method">
                                <a href="#method_cache">cache</a>

                                
                                
                            </li>
                        
                            <li class="index-item method">
                                <a href="#method_cacheId">cacheId</a>

                                
                                
                            </li>
                        
                            <li class="index-item method">
                                <a href="#method_cacheInvalidate">cacheInvalidate</a>

                                
                                
                            </li>
                        
                            <li class="index-item method">
                                <a href="#method_defaultValues">defaultValues</a>

                                
                                
                            </li>
                        
                            <li class="index-item method">
                                <a href="#method_demand">demand</a>

                                
                                
                            </li>
                        
                            <li class="index-item method">
                                <a href="#method_demandFile">demandFile</a>

                                
                                
                            </li>
                        
                            <li class="index-item method">
                                <a href="#method_demands">demands</a>

                                
                                
                            </li>
                        
                            <li class="index-item method">
                                <a href="#method_depricated">depricated</a>

                                
                                
                            </li>
                        
                            <li class="index-item method">
                                <a href="#method_emit">emit</a>

                                
                                
                            </li>
                        
                            <li class="index-item method">
                                <a href="#method_emitAfter">emitAfter</a>

                                
                                
                            </li>
                        
                            <li class="index-item method">
                                <a href="#method_emitBefore">emitBefore</a>

                                
                                
                            </li>
                        
                            <li class="index-item method">
                                <a href="#method_findMethod">findMethod</a>

                                
                                    <span class="flag static">static</span>
                                
                                
                            </li>
                        
                            <li class="index-item method">
                                <a href="#method_getMethod">getMethod</a>

                                
                                
                            </li>
                        
                            <li class="index-item method">
                                <a href="#method_getPath">getPath</a>

                                
                                
                            </li>
                        
                            <li class="index-item method">
                                <a href="#method_inputModel">inputModel</a>

                                
                                
                            </li>
                        
                            <li class="index-item method">
                                <a href="#method_inputModel">inputModel</a>

                                
                                
                            </li>
                        
                            <li class="index-item method">
                                <a href="#method_longPoll">longPoll</a>

                                
                                
                            </li>
                        
                            <li class="index-item method">
                                <a href="#method_model">model</a>

                                
                                
                            </li>
                        
                            <li class="index-item method">
                                <a href="#method_noCache">noCache</a>

                                
                                
                            </li>
                        
                            <li class="index-item method">
                                <a href="#method_optional">optional</a>

                                
                                
                            </li>
                        
                            <li class="index-item method">
                                <a href="#method_optionalFile">optionalFile</a>

                                
                                
                            </li>
                        
                            <li class="index-item method">
                                <a href="#method_optionals">optionals</a>

                                
                                
                            </li>
                        
                            <li class="index-item method">
                                <a href="#method_requireRole">requireRole</a>

                                
                                
                            </li>
                        
                            <li class="index-item method">
                                <a href="#method_requiresUser">requiresUser</a>

                                
                                
                            </li>
                        
                            <li class="index-item method">
                                <a href="#method_returnsBoolean">returnsBoolean</a>

                                
                                
                            </li>
                        
                            <li class="index-item method">
                                <a href="#method_returnsNumber">returnsNumber</a>

                                
                                
                            </li>
                        
                            <li class="index-item method">
                                <a href="#method_returnsString">returnsString</a>

                                
                                
                            </li>
                        
                            <li class="index-item method">
                                <a href="#method_returnsString">returnsString</a>

                                
                                
                            </li>
                        
                            <li class="index-item method">
                                <a href="#method_secure">secure</a>

                                
                                
                            </li>
                        
                            <li class="index-item method">
                                <a href="#method_sendCSRFToken">sendCSRFToken</a>

                                
                                
                            </li>
                        
                            <li class="index-item method">
                                <a href="#method_usage">usage</a>

                                
                                
                            </li>
                        
                    </ul>
                </div>
            

            

            

            
        </div>

        
            <div id="methods" class="api-class-tabpanel">
                <h2 class="off-left">Methods</h2>

                
                    <div id="method_addPostCall" class="method item">
    <h3 class="name"><code>addPostCall</code></h3>

    
        <div class="args">
            <span class="paren">(</span><ul class="args-list inline commas">
            
                <li class="arg">
                    
                        <code>call</code>
                    
                </li>
            
                <li class="arg">
                    
                        <code>phase</code>
                    
                </li>
            
            </ul><span class="paren">)</span>
        </div>
    

    

    

    

    

    

    
        <span class="flag chainable">chainable</span>
    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="..&#x2F;files&#x2F;lib_api.js.html#l921"><code>lib&#x2F;api.js:921</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>Add a function that will be called after this call is completed</p>
    </div>

    
        <div class="params">
            <h4>Parameters:</h4>

            <ul class="params-list">
            
                <li class="param">
                    
                        <code class="param-name">call</code>
                        <span class="type">Function</span>
                    

                    

                    <div class="param-description">
                        <p>function to be called when this call is completed, which is passed the following parameters:</p>
                    </div>

                    
                        <ul class="params-list">
                            
                            <li class="param">
                                
                                    <code class="param-name">request</code>
                                    <span class="type">Object</span>
                                

                                <div class="param-description">
                                    <p>the ExpressJS / HTTP request object</p>
                                </div>

                                
                            </li>
                            
                            <li class="param">
                                
                                    <code class="param-name">input</code>
                                    <span class="type">Object</span>
                                

                                <div class="param-description">
                                    <p>the input parameters to the call</p>
                                </div>

                                
                            </li>
                            
                            <li class="param">
                                
                                    <code class="param-name">err</code>
                                    <span class="type"></span>
                                

                                <div class="param-description">
                                    <p>the resulting err from the call</p>
                                </div>

                                
                            </li>
                            
                            <li class="param">
                                
                                    <code class="param-name">result</code>
                                    <span class="type">Object</span>
                                

                                <div class="param-description">
                                    <ul>
<li>the result of the call</li>
</ul>
                                </div>

                                
                            </li>
                            
                            <li class="param">
                                
                                    <code class="param-name">next</code>
                                    <span class="type">Function</span>
                                

                                <div class="param-description">
                                    <ul>
<li>to be called when the callback is completed, causing the next call back to be called</li>
</ul>
                                </div>

                                
                            </li>
                            
                        </ul>
                    
                </li>
            
                <li class="param">
                    
                        <code class="param-name">phase</code>
                        <span class="type">String</span>
                    

                    

                    <div class="param-description">
                        <p>the phase in which this function will be called (see below)</p>

<p><em>Phases</em></p>

<pre><code>1. (Pre call phases)
2. **CALL**     
3. first - called before any other phases
4. data - data processing and conversion
5. event - event emission
6. cache - cache phase 
7. last - called last
</code></pre>
                    </div>

                    
                </li>
            
            </ul>
        </div>
    

    

    
        <div class="example">
            <h4>Example:</h4>

            <div class="example-content">
                <pre class="code"><code class="prettyprint">api.get("load","/user/:userID").addPostCall(function(req,input,err,result,next){
    //Let's caclulate the users age:
    if(result &amp;&amp; result.birthdate){
        result.age = User.calculateAge(result.birthdate);
    }   
    next();
},"data");
</code></pre>
            </div>
        </div>
    
</div>

                
                    <div id="method_addPreCall" class="method item">
    <h3 class="name"><code>addPreCall</code></h3>

    
        <div class="args">
            <span class="paren">(</span><ul class="args-list inline commas">
            
                <li class="arg">
                    
                        <code>call</code>
                    
                </li>
            
                <li class="arg">
                    
                        <code>phase</code>
                    
                </li>
            
            </ul><span class="paren">)</span>
        </div>
    

    

    

    

    

    

    
        <span class="flag chainable">chainable</span>
    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="..&#x2F;files&#x2F;lib_api.js.html#l975"><code>lib&#x2F;api.js:975</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>Add a function that will be called before this call is executed</p>
    </div>

    
        <div class="params">
            <h4>Parameters:</h4>

            <ul class="params-list">
            
                <li class="param">
                    
                        <code class="param-name">call</code>
                        <span class="type">Function</span>
                    

                    

                    <div class="param-description">
                        <pre><code>    function to be called prior to when this call is executed , which is passed the following parameters:
</code></pre>
                    </div>

                    
                        <ul class="params-list">
                            
                            <li class="param">
                                
                                    <code class="param-name">request!~YUIDOC_LINE~!</code>
                                    <span class="type">Object</span>
                                

                                <div class="param-description">
                                    <p>the ExpressJS / HTTP request object</p>
                                </div>

                                
                            </li>
                            
                            <li class="param">
                                
                                    <code class="param-name">input!~YUIDOC_LINE~!</code>
                                    <span class="type">Object</span>
                                

                                <div class="param-description">
                                    <p>the input parameters to the call</p>
                                </div>

                                
                            </li>
                            
                            <li class="param">
                                
                                    <code class="param-name">onComplete</code>
                                    <span class="type">Function</span>
                                

                                <div class="param-description">
                                    <pre><code>    to be called if the function wants to short circuit and return a result
</code></pre>
                                </div>

                                
                            </li>
                            
                            <li class="param">
                                
                                    <code class="param-name">next</code>
                                    <span class="type">Function</span>
                                

                                <div class="param-description">
                                    <pre><code>    to be called when the callback is completed, causing the next call back to be called
</code></pre>
                                </div>

                                
                            </li>
                            
                        </ul>
                    
                </li>
            
                <li class="param">
                    
                        <code class="param-name">phase</code>
                        <span class="type">String</span>
                    

                    

                    <div class="param-description">
                        <p>the phase in which this function will be called (see below)</p>

<p><em>Phases</em></p>

<pre><code>1. first - called first
2. demand - verifies that the required parameters are in place 
3. conversion - will convert the input types to the expected types
4. validation - input validation 
5. auth - authentication phase
6. event - event emission
7. cache - cache phase 
8. last - the last set of calls to be called prior to the function call
9. **CALL**     
10. (post calls)
</code></pre>
                    </div>

                    
                </li>
            
            </ul>
        </div>
    

    

    
        <div class="example">
            <h4>Example:</h4>

            <div class="example-content">
                <pre class="code"><code class="prettyprint">api.get("load","/user/:userID").addPreCall(function(req,input,err,onComplete,next){
    //If we have a user allow this call to complete
    if(req &amp;&amp; req.session &amp;&amp; req.session.user){
        next();
    //If not return an error 
    } else {
        return onComplete("Permission denied");
    }
},"auth");
</code></pre>
            </div>
        </div>
    
</div>

                
                    <div id="method_cache" class="method item">
    <h3 class="name"><code>cache</code></h3>

    
        <div class="args">
            <span class="paren">(</span><ul class="args-list inline commas">
            
                <li class="arg">
                    
                        <code>cacheFunc</code>
                    
                </li>
            
            </ul><span class="paren">)</span>
        </div>
    

    

    

    

    

    

    
        <span class="flag chainable">chainable</span>
    

    

    <div class="meta">
        
            
                
                    <p>Provided by the <a href="../modules/Cache.html">Cache</a> module.</p>
                
                <p>
                
                Defined in
                
            
        
        
        <a href="..&#x2F;files&#x2F;lib_cache.js.html#l67"><code>lib&#x2F;cache.js:67</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>Specifies a cache lambda for this call.</p>

<p>This funciton is used to specify a cache lambda
which will determine how the result is cached.</p>
    </div>

    
        <div class="params">
            <h4>Parameters:</h4>

            <ul class="params-list">
            
                <li class="param">
                    
                        <code class="param-name">cacheFunc</code>
                        <span class="type">Function</span>
                    

                    

                    <div class="param-description">
                         
                    </div>

                    
                        <ul class="params-list">
                            
                            <li class="param">
                                
                                    <code class="param-name">when</code>
                                    <span class="type">Function</span>
                                

                                <div class="param-description">
                                    <p>Used to indicate when this cache function was evaluated, valid values are "before" and "after"</p>
                                </div>

                                
                            </li>
                            
                            <li class="param">
                                
                                    <code class="param-name">cache</code>
                                    <span class="type">Function</span>
                                

                                <div class="param-description">
                                    <p>The cache object, which is used to return an action</p>
                                </div>

                                
                                    <ul class="params-list">
                                        
                                        <li class="param">
                                            
                                                <code class="param-name">id</code>
                                                <span class="type">Function</span>
                                            

                                            <div class="param-description">
                                                return the result of this function to specify the result should be cached
                                            </div>
                                        </li>
                                        
                                        <li class="param">
                                            
                                                <code class="param-name">id.id</code>
                                                <span class="type">String</span>
                                            

                                            <div class="param-description">
                                                The cache id
                                            </div>
                                        </li>
                                        
                                        <li class="param">
                                            
                                                <code class="param-name">id.duration</code>
                                                <span class="type">Number</span>
                                            

                                            <div class="param-description">
                                                The duration in seconds to cache the result for
                                            </div>
                                        </li>
                                        
                                        <li class="param">
                                            
                                                <code class="param-name">invalidate</code>
                                                <span class="type">Function</span>
                                            

                                            <div class="param-description">
                                                return the result of this function to specify the result should be invalidated
                                            </div>
                                        </li>
                                        
                                        <li class="param">
                                            
                                                <code class="param-name">invalidate.id</code>
                                                <span class="type">String</span>
                                            

                                            <div class="param-description">
                                                The cache id
                                            </div>
                                        </li>
                                        
                                    </ul>
                                
                            </li>
                            
                            <li class="param">
                                
                                    <code class="param-name">req</code>
                                    <span class="type">Object</span>
                                

                                <div class="param-description">
                                    <p>the Express/HTTP request object</p>
                                </div>

                                
                            </li>
                            
                            <li class="param">
                                
                                    <code class="param-name">input</code>
                                    <span class="type">Object</span>
                                

                                <div class="param-description">
                                    <p>the input parameters for the call</p>
                                </div>

                                
                            </li>
                            
                            <li class="param">
                                
                                    <code class="param-name">error</code>
                                    <span class="type">Object</span>
                                

                                <div class="param-description">
                                    <p>the error as a result of calling this function (only valid after the call)</p>
                                </div>

                                
                            </li>
                            
                            <li class="param">
                                
                                    <code class="param-name">result</code>
                                    <span class="type">Object</span>
                                

                                <div class="param-description">
                                    <p>the result of this function (only valid after the call)</p>
                                </div>

                                
                            </li>
                            
                        </ul>
                    
                </li>
            
            </ul>
        </div>
    

    

    
        <div class="example">
            <h4>Example:</h4>

            <div class="example-content">
                <pre class="code"><code class="prettyprint">Hop.defineClass("Comment",new Comment(),function(api){
    //This will cause the list to always attempt to hit the cache
    api.get("list","/comment").cacheId("/comment/list/:start/:size").demand("start").demand("size").defaults({start:0, size:25});
    api.del("delete","/comment/:commentId").cacheInvalidate("/comment/:commentId").demand("commentId");
    api.get("load","/comment/:commentId").cache(function(when,cache,req,input,err,result){
        if(Hop.hasUser(req)){
            var userId = Hop.User.id(req);
            //If we have a user, and that user is the one who posted the comment don't show a cached copy
            if(userId == input.userId){
                return false;
            }
        } else return cache.id("/comment/:commentId",60*5);
    }).demand("commentId");
    api.post("update","/comment/:commentId").cacheInvalidate("/comment/:commentId").demand("commentId");
});
</code></pre>
            </div>
        </div>
    
</div>

                
                    <div id="method_cacheId" class="method item">
    <h3 class="name"><code>cacheId</code></h3>

    
        <div class="args">
            <span class="paren">(</span><ul class="args-list inline commas">
            
                <li class="arg">
                    
                        <code>cacheId</code>
                    
                </li>
            
                <li class="arg">
                    
                        <code>duration</code>
                    
                </li>
            
                <li class="arg">
                    
                        <code>attempt</code>
                    
                </li>
            
            </ul><span class="paren">)</span>
        </div>
    

    

    

    

    

    

    
        <span class="flag chainable">chainable</span>
    

    

    <div class="meta">
        
            
                
                    <p>Provided by the <a href="../modules/Cache.html">Cache</a> module.</p>
                
                <p>
                
                Defined in
                
            
        
        
        <a href="..&#x2F;files&#x2F;lib_cache.js.html#l36"><code>lib&#x2F;cache.js:36</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>Specifies a cache Id to use for storing the result of this call.</p>

<p>This funciton is used to specify a cache id for the result
causing the result to be associated with the id. </p>

<p>The specified cache ID will attempt to substitude variables
in the id with those from the input, or from the user.</p>
    </div>

    
        <div class="params">
            <h4>Parameters:</h4>

            <ul class="params-list">
            
                <li class="param">
                    
                        <code class="param-name">cacheId</code>
                        <span class="type">String</span>
                    

                    

                    <div class="param-description">
                        <p>the id for the cached item</p>
                    </div>

                    
                </li>
            
                <li class="param">
                    
                        <code class="param-name">duration</code>
                        <span class="type">Number</span>
                    

                    

                    <div class="param-description">
                        <p>that the number of seconds result will be cached for</p>
                    </div>

                    
                </li>
            
                <li class="param">
                    
                        <code class="param-name">attempt</code>
                        <span class="type">Force</span>
                    

                    

                    <div class="param-description">
                        <p>to force the client side to cache the result for the specified duration, this will essentially mean the client side will not request the item again until expiration</p>
                    </div>

                    
                </li>
            
            </ul>
        </div>
    

    

    
</div>

                
                    <div id="method_cacheInvalidate" class="method item">
    <h3 class="name"><code>cacheInvalidate</code></h3>

    
        <div class="args">
            <span class="paren">(</span><ul class="args-list inline commas">
            
                <li class="arg">
                    
                        <code>cacheId</code>
                    
                </li>
            
            </ul><span class="paren">)</span>
        </div>
    

    

    

    

    

    

    
        <span class="flag chainable">chainable</span>
    

    

    <div class="meta">
        
            
                
                    <p>Provided by the <a href="../modules/Cache.html">Cache</a> module.</p>
                
                <p>
                
                Defined in
                
            
        
        
        <a href="..&#x2F;files&#x2F;lib_cache.js.html#l10"><code>lib&#x2F;cache.js:10</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>Specifies a cache Id to invalidate.</p>

<p>This function is used to delete an item from the cache, so for 
example on an HTTP DEL command it may be desirable to delete
an associated cache object.</p>

<p>The specified cache ID will attempt to substitude variables
in the id with those from the input, or from the user.</p>
    </div>

    
        <div class="params">
            <h4>Parameters:</h4>

            <ul class="params-list">
            
                <li class="param">
                    
                        <code class="param-name">cacheId</code>
                        <span class="type">String</span>
                    

                    

                    <div class="param-description">
                        <p>the id for the cached item</p>
                    </div>

                    
                </li>
            
            </ul>
        </div>
    

    

    
</div>

                
                    <div id="method_defaultValues" class="method item">
    <h3 class="name"><code>defaultValues</code></h3>

    
        <div class="args">
            <span class="paren">(</span><ul class="args-list inline commas">
            
                <li class="arg">
                    
                        <code>defaults</code>
                    
                </li>
            
            </ul><span class="paren">)</span>
        </div>
    

    

    

    

    

    

    
        <span class="flag chainable">chainable</span>
    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="..&#x2F;files&#x2F;lib_api.js.html#l686"><code>lib&#x2F;api.js:686</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>Specify the default values for this call</p>

<p>These values will be copied into the input if no existing value is found.</p>
    </div>

    
        <div class="params">
            <h4>Parameters:</h4>

            <ul class="params-list">
            
                <li class="param">
                    
                        <code class="param-name">defaults</code>
                        <span class="type">Object</span>
                    

                    

                    <div class="param-description">
                         
                    </div>

                    
                </li>
            
            </ul>
        </div>
    

    

    
</div>

                
                    <div id="method_demand" class="method item">
    <h3 class="name"><code>demand</code></h3>

    
        <div class="args">
            <span class="paren">(</span><ul class="args-list inline commas">
            
                <li class="arg">
                    
                        <code>name</code>
                    
                </li>
            
                <li class="arg">
                    
                        <code>desc</code>
                    
                </li>
            
            </ul><span class="paren">)</span>
        </div>
    

    

    

    

    

    

    
        <span class="flag chainable">chainable</span>
    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="..&#x2F;files&#x2F;lib_api.js.html#l735"><code>lib&#x2F;api.js:735</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>Demand a parameter for a call</p>
    </div>

    
        <div class="params">
            <h4>Parameters:</h4>

            <ul class="params-list">
            
                <li class="param">
                    
                        <code class="param-name">name</code>
                        <span class="type">String</span>
                    

                    

                    <div class="param-description">
                        <p>of parameter</p>
                    </div>

                    
                </li>
            
                <li class="param">
                    
                        <code class="param-name">desc</code>
                        <span class="type">String</span>
                    

                    

                    <div class="param-description">
                        <p>description of parameter</p>
                    </div>

                    
                </li>
            
            </ul>
        </div>
    

    

    
        <div class="example">
            <h4>Example:</h4>

            <div class="example-content">
                <pre class="code"><code class="prettyprint">api.post("create","/user/profile/").demand("email","Email address");
</code></pre>
            </div>
        </div>
    
</div>

                
                    <div id="method_demandFile" class="method item">
    <h3 class="name"><code>demandFile</code></h3>

    
        <span class="paren">()</span>
    

    

    

    

    

    

    
        <span class="flag chainable">chainable</span>
    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="..&#x2F;files&#x2F;lib_api.js.html#l891"><code>lib&#x2F;api.js:891</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>Demand a file be provided for this method.</p>
    </div>

    

    

    
        <div class="example">
            <h4>Example:</h4>

            <div class="example-content">
                <pre class="code"><code class="prettyprint">api.post("create","/user/profile/").demandFile("avatar","Users avatar image");
</code></pre>
            </div>
        </div>
    
</div>

                
                    <div id="method_demands" class="method item">
    <h3 class="name"><code>demands</code></h3>

    
        <div class="args">
            <span class="paren">(</span><ul class="args-list inline commas">
            
                <li class="arg">
                    
                        <code>name</code>
                    
                </li>
            
            </ul><span class="paren">)</span>
        </div>
    

    

    

    

    

    

    
        <span class="flag chainable">chainable</span>
    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="..&#x2F;files&#x2F;lib_api.js.html#l717"><code>lib&#x2F;api.js:717</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>Specify a number of demands for  for a call</p>
    </div>

    
        <div class="params">
            <h4>Parameters:</h4>

            <ul class="params-list">
            
                <li class="param">
                    
                        <code class="param-name">name</code>
                        <span class="type">String</span>
                    

                    

                    <div class="param-description">
                        <p>of parameter (+)</p>
                    </div>

                    
                </li>
            
            </ul>
        </div>
    

    

    
        <div class="example">
            <h4>Example:</h4>

            <div class="example-content">
                <pre class="code"><code class="prettyprint">api.post("create","/user/profile/").demands("email","name","password");
</code></pre>
            </div>
        </div>
    
</div>

                
                    <div id="method_depricated" class="method item">
    <h3 class="name"><code>depricated</code></h3>

    
        <span class="paren">()</span>
    

    

    

    

    

    

    
        <span class="flag chainable">chainable</span>
    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="..&#x2F;files&#x2F;lib_api.js.html#l1038"><code>lib&#x2F;api.js:1038</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>Indicate that this method call has been depricated</p>
    </div>

    

    

    
</div>

                
                    <div id="method_emit" class="method item">
    <h3 class="name"><code>emit</code></h3>

    
        <span class="paren">()</span>
    

    

    

    

    

    

    
        <span class="flag chainable">chainable</span>
    

    

    <div class="meta">
        
            
                
                    <p>Provided by the <a href="../modules/Event.html">Event</a> module.</p>
                
                <p>
                
                Defined in
                
            
        
        
        <a href="..&#x2F;files&#x2F;lib_event.js.html#l444"><code>lib&#x2F;event.js:444</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>Alias to emitAFter</p>
    </div>

    

    

    
</div>

                
                    <div id="method_emitAfter" class="method item">
    <h3 class="name"><code>emitAfter</code></h3>

    
        <div class="args">
            <span class="paren">(</span><ul class="args-list inline commas">
            
                <li class="arg">
                    
                        <code>channel</code>
                    
                </li>
            
                <li class="arg">
                    
                        <code>onEmit</code>
                    
                </li>
            
            </ul><span class="paren">)</span>
        </div>
    

    

    

    

    

    

    
        <span class="flag chainable">chainable</span>
    

    

    <div class="meta">
        
            
                
                    <p>Provided by the <a href="../modules/Event.html">Event</a> module.</p>
                
                <p>
                
                Defined in
                
            
        
        
        <a href="..&#x2F;files&#x2F;lib_event.js.html#l394"><code>lib&#x2F;event.js:394</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>Emit an event after calling this method</p>

<ul>
<li>The channel will have variables provided by the input parameters
substituted into it.</li>
</ul>
    </div>

    
        <div class="params">
            <h4>Parameters:</h4>

            <ul class="params-list">
            
                <li class="param">
                    
                        <code class="param-name">channel</code>
                        <span class="type">String</span>
                    

                    

                    <div class="param-description">
                        <p>The channel to emit the event on</p>
                    </div>

                    
                </li>
            
                <li class="param">
                    
                        <code class="param-name">onEmit</code>
                        <span class="type">Function</span>
                    

                    

                    <div class="param-description">
                        <p>The function which determines what is emitted</p>
                    </div>

                    
                        <ul class="params-list">
                            
                            <li class="param">
                                
                                    <code class="param-name">req</code>
                                    <span class="type">Object</span>
                                

                                <div class="param-description">
                                    <p>The Express/HTTP request object</p>
                                </div>

                                
                            </li>
                            
                            <li class="param">
                                
                                    <code class="param-name">input</code>
                                    <span class="type">Object</span>
                                

                                <div class="param-description">
                                    <p>The input object</p>
                                </div>

                                
                            </li>
                            
                            <li class="param">
                                
                                    <code class="param-name">err</code>
                                    <span class="type">Object</span>
                                

                                <div class="param-description">
                                    <p>The error resulting from calling the method</p>
                                </div>

                                
                            </li>
                            
                            <li class="param">
                                
                                    <code class="param-name">result</code>
                                    <span class="type">Object</span>
                                

                                <div class="param-description">
                                    <p>The result of calling the method</p>
                                </div>

                                
                            </li>
                            
                        </ul>
                    
                </li>
            
            </ul>
        </div>
    

    

    
        <div class="example">
            <h4>Example:</h4>

            <div class="example-content">
                <pre class="code"><code class="prettyprint">api.post("processFile","/process/").emitAfter("/user/:userId",function(req,input,err,result){
    //Emit an event to the specified channel
    this.emit({err: err, result:result});
}).demand("userId");
</code></pre>
            </div>
        </div>
    
</div>

                
                    <div id="method_emitBefore" class="method item">
    <h3 class="name"><code>emitBefore</code></h3>

    
        <div class="args">
            <span class="paren">(</span><ul class="args-list inline commas">
            
                <li class="arg">
                    
                        <code>channel</code>
                    
                </li>
            
                <li class="arg">
                    
                        <code>onEmit</code>
                    
                </li>
            
            </ul><span class="paren">)</span>
        </div>
    

    

    

    

    

    

    
        <span class="flag chainable">chainable</span>
    

    

    <div class="meta">
        
            
                
                    <p>Provided by the <a href="../modules/Event.html">Event</a> module.</p>
                
                <p>
                
                Defined in
                
            
        
        
        <a href="..&#x2F;files&#x2F;lib_event.js.html#l346"><code>lib&#x2F;event.js:346</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>Emit an event prior to calling this method</p>

<ul>
<li>The channel will have variables provided by the input parameters
substituted into it.</li>
</ul>
    </div>

    
        <div class="params">
            <h4>Parameters:</h4>

            <ul class="params-list">
            
                <li class="param">
                    
                        <code class="param-name">channel</code>
                        <span class="type">String</span>
                    

                    

                    <div class="param-description">
                        <p>The channel to emit the event on</p>
                    </div>

                    
                </li>
            
                <li class="param">
                    
                        <code class="param-name">onEmit</code>
                        <span class="type">Function</span>
                    

                    

                    <div class="param-description">
                        <p>The function which determines what is emitted</p>
                    </div>

                    
                        <ul class="params-list">
                            
                            <li class="param">
                                
                                    <code class="param-name">req</code>
                                    <span class="type">Object</span>
                                

                                <div class="param-description">
                                    <p>The Exbeforess/HTTP request object</p>
                                </div>

                                
                            </li>
                            
                            <li class="param">
                                
                                    <code class="param-name">input</code>
                                    <span class="type">Object</span>
                                

                                <div class="param-description">
                                    <p>The input object</p>
                                </div>

                                
                            </li>
                            
                        </ul>
                    
                </li>
            
            </ul>
        </div>
    

    

    
        <div class="example">
            <h4>Example:</h4>

            <div class="example-content">
                <pre class="code"><code class="prettyprint">api.post("send","/message/send").emitBefore("/user/:to",function(req,input){
    //Emit an event to the specified channel
    this.emit({msg: input.msg, from: input.from});
}).demand("msg").demand("from").demand("to");
</code></pre>
            </div>
        </div>
    
</div>

                
                    <div id="method_findMethod" class="method item">
    <h3 class="name"><code>findMethod</code></h3>

    
        <span class="paren">()</span>
    

    
        <span class="returns-inline">
            <span class="type">String</span>
        </span>
    

    

    

    

    
        <span class="flag static">static</span>
    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="..&#x2F;files&#x2F;lib_api.js.html#l616"><code>lib&#x2F;api.js:616</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>Find a method by name</p>
    </div>

    

    
        <div class="returns">
            <h4>Returns:</h4>

            <div class="returns-description">
                
                    
                        <span class="type">String</span>:
                    
                    The name of the method
                
            </div>
        </div>
    

    
        <div class="example">
            <h4>Example:</h4>

            <div class="example-content">
                <pre class="code"><code class="prettyprint">Hop.defineClass("UserService",function(api){
    api.get("load","/user/:userID")

});
var method = Hop.Method.findMethod("UserService.load");
Hop.log(method.getMethod()); //returns UserService.load
</code></pre>
            </div>
        </div>
    
</div>

                
                    <div id="method_getMethod" class="method item">
    <h3 class="name"><code>getMethod</code></h3>

    
        <span class="paren">()</span>
    

    
        <span class="returns-inline">
            <span class="type">String</span>
        </span>
    

    

    

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="..&#x2F;files&#x2F;lib_api.js.html#l641"><code>lib&#x2F;api.js:641</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>Get the name of the method</p>

<p>This will get the name of the method</p>
    </div>

    

    
        <div class="returns">
            <h4>Returns:</h4>

            <div class="returns-description">
                
                    
                        <span class="type">String</span>:
                    
                    The name of the method
                
            </div>
        </div>
    

    
        <div class="example">
            <h4>Example:</h4>

            <div class="example-content">
                <pre class="code"><code class="prettyprint">Hop.defineClass("UserService",function(api){
    api.get("load","/user/:userID")

});
var method = Hop.Method.findMethod("UserService.load");
Hop.log(method.getMethod()); //returns UserService.load
</code></pre>
            </div>
        </div>
    
</div>

                
                    <div id="method_getPath" class="method item">
    <h3 class="name"><code>getPath</code></h3>

    
        <span class="paren">()</span>
    

    
        <span class="returns-inline">
            <span class="type">String</span>
        </span>
    

    

    

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="..&#x2F;files&#x2F;lib_api.js.html#l667"><code>lib&#x2F;api.js:667</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>Get the full url for the method</p>

<p>This will get the full path for the url for the method.</p>
    </div>

    

    
        <div class="returns">
            <h4>Returns:</h4>

            <div class="returns-description">
                
                    
                        <span class="type">String</span>:
                    
                    The URL for the method
                
            </div>
        </div>
    

    
</div>

                
                    <div id="method_inputModel" class="method item">
    <h3 class="name"><code>inputModel</code></h3>

    
        <div class="args">
            <span class="paren">(</span><ul class="args-list inline commas">
            
                <li class="arg">
                    
                        <code>model</code>
                    
                </li>
            
                <li class="arg">
                    
                        <code>What</code>
                    
                </li>
            
            </ul><span class="paren">)</span>
        </div>
    

    

    

    

    

    

    
        <span class="flag chainable">chainable</span>
    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="..&#x2F;files&#x2F;lib_model.js.html#l355"><code>lib&#x2F;model.js:355</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>Use a model for the output</p>
    </div>

    
        <div class="params">
            <h4>Parameters:</h4>

            <ul class="params-list">
            
                <li class="param">
                    
                        <code class="param-name">model</code>
                        <span class="type">String</span>
                    

                    

                    <div class="param-description">
                        <p>Name of the model that is returned</p>
                    </div>

                    
                </li>
            
                <li class="param">
                    
                        <code class="param-name">What</code>
                        <span class="type">Class</span>
                    

                    

                    <div class="param-description">
                        <p>the model is returned as (Array is the only valid value)</p>
                    </div>

                    
                </li>
            
            </ul>
        </div>
    

    

    
        <div class="example">
            <h4>Example:</h4>

            <div class="example-content">
                <pre class="code"><code class="prettyprint">//Returns an array of vehicles
api.get("list","/vehicles").outputModel("Vehicle",Array);
</code></pre>
            </div>
        </div>
    
</div>

                
                    <div id="method_inputModel" class="method item">
    <h3 class="name"><code>inputModel</code></h3>

    
        <div class="args">
            <span class="paren">(</span><ul class="args-list inline commas">
            
                <li class="arg">
                    
                        <code>model</code>
                    
                </li>
            
                <li class="arg">
                    
                        <code>What</code>
                    
                </li>
            
            </ul><span class="paren">)</span>
        </div>
    

    

    

    

    

    

    
        <span class="flag chainable">chainable</span>
    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="..&#x2F;files&#x2F;lib_model.js.html#l326"><code>lib&#x2F;model.js:326</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>Use a model for the input</p>
    </div>

    
        <div class="params">
            <h4>Parameters:</h4>

            <ul class="params-list">
            
                <li class="param">
                    
                        <code class="param-name">model</code>
                        <span class="type">String</span>
                    

                    

                    <div class="param-description">
                        <p>Name of the model that is used as an input</p>
                    </div>

                    
                </li>
            
                <li class="param">
                    
                        <code class="param-name">What</code>
                        <span class="type">Class</span>
                    

                    

                    <div class="param-description">
                        <p>the model is inputted as (Array is the only valid value)</p>
                    </div>

                    
                </li>
            
            </ul>
        </div>
    

    

    
</div>

                
                    <div id="method_longPoll" class="method item">
    <h3 class="name"><code>longPoll</code></h3>

    
        <span class="paren">()</span>
    

    

    

    

    

    

    
        <span class="flag chainable">chainable</span>
    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="..&#x2F;files&#x2F;lib_api.js.html#l836"><code>lib&#x2F;api.js:836</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>Indicate this function performs longPolling</p>
    </div>

    

    

    
        <div class="example">
            <h4>Example:</h4>

            <div class="example-content">
                <pre class="code"><code class="prettyprint">api.get("status","/server/:serverID/status").longPoll();
</code></pre>
            </div>
        </div>
    
</div>

                
                    <div id="method_model" class="method item">
    <h3 class="name"><code>model</code></h3>

    
        <div class="args">
            <span class="paren">(</span><ul class="args-list inline commas">
            
                <li class="arg">
                    
                        <code>inputObject</code>
                    
                </li>
            
                <li class="arg">
                    
                        <code class="optional">[outputModel]</code>
                    
                </li>
            
            </ul><span class="paren">)</span>
        </div>
    

    

    

    

    

    

    
        <span class="flag chainable">chainable</span>
    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="..&#x2F;files&#x2F;lib_model.js.html#l268"><code>lib&#x2F;model.js:268</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>Use a model for both input and output</p>

<p>Models are used to provide meta data for both UI 
and api generation</p>
    </div>

    
        <div class="params">
            <h4>Parameters:</h4>

            <ul class="params-list">
            
                <li class="param">
                    
                        <code class="param-name">inputObject</code>
                        <span class="type">Object</span>
                    

                    

                    <div class="param-description">
                        <p>Input model</p>
                    </div>

                    
                </li>
            
                <li class="param">
                    
                        <code class="param-name optional">[outputModel]</code>
                        <span class="type">Object</span>
                        <span class="flag optional" title="This parameter is optional.">optional</span>
                    

                    

                    <div class="param-description">
                        <p>Output model</p>

<ul>
<li>Models require a field called _name which specifies the name of the model</li>
<li>Models can have the following fields on types: 
<ul><li>type - The class name of the type, valid values are ( String, Number, Array, Object, Date, Boolean )</li>
<li>subtype - A subtype for the field "ID", "Float", "JSON", "IDRef", "Tags" </li>
<li>regex - A regex used to validate the fields</li>
<li>regexMsg - A message which is displayed when the regex is not matched</li>
<li>title - A title for the field, for UI purposes</li>
<li>desc - A description of the field for UI purposes</li>
<li>values - An array or object which contains possible values for this field</li></ul></li>
</ul>
                    </div>

                    
                </li>
            
            </ul>
        </div>
    

    

    
        <div class="example">
            <h4>Example:</h4>

            <div class="example-content">
                <pre class="code"><code class="prettyprint">Hop.defineModel("User",function(model){
    model.field("name").string().regex(/[A-Za-z]{3,10}/,"Usernames must be between 3 - 10 characters long and can only contain A-Z  and a-z");
    model.field("id").integer().ID();
    model.field("email").string().title("Email");
});

Hop.defineClass("User",new User(),function(api){
    api.post("create","/user").useModel("User");
    api.get("list","/user").inputModel(SearchModel).outputModel(UserModel);
});
</code></pre>
            </div>
        </div>
    
</div>

                
                    <div id="method_noCache" class="method item">
    <h3 class="name"><code>noCache</code></h3>

    
        <span class="paren">()</span>
    

    

    

    

    

    

    
        <span class="flag chainable">chainable</span>
    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="..&#x2F;files&#x2F;lib_api.js.html#l852"><code>lib&#x2F;api.js:852</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>Indicate this function should avoid caching</p>
    </div>

    

    

    
        <div class="example">
            <h4>Example:</h4>

            <div class="example-content">
                <pre class="code"><code class="prettyprint">api.post("create","/user/profile/").noCache();
</code></pre>
            </div>
        </div>
    
</div>

                
                    <div id="method_optional" class="method item">
    <h3 class="name"><code>optional</code></h3>

    
        <div class="args">
            <span class="paren">(</span><ul class="args-list inline commas">
            
                <li class="arg">
                    
                        <code>name</code>
                    
                </li>
            
                <li class="arg">
                    
                        <code>desc</code>
                    
                </li>
            
            </ul><span class="paren">)</span>
        </div>
    

    

    

    

    

    

    
        <span class="flag chainable">chainable</span>
    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="..&#x2F;files&#x2F;lib_api.js.html#l818"><code>lib&#x2F;api.js:818</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>Optional parameter for a call</p>
    </div>

    
        <div class="params">
            <h4>Parameters:</h4>

            <ul class="params-list">
            
                <li class="param">
                    
                        <code class="param-name">name</code>
                        <span class="type">String</span>
                    

                    

                    <div class="param-description">
                        <p>of parameter</p>
                    </div>

                    
                </li>
            
                <li class="param">
                    
                        <code class="param-name">desc</code>
                        <span class="type">String</span>
                    

                    

                    <div class="param-description">
                        <p>description of parameter</p>
                    </div>

                    
                </li>
            
            </ul>
        </div>
    

    

    
        <div class="example">
            <h4>Example:</h4>

            <div class="example-content">
                <pre class="code"><code class="prettyprint">api.post("create","/user/profile/").optional("phoneNumber","Phone Number");
</code></pre>
            </div>
        </div>
    
</div>

                
                    <div id="method_optionalFile" class="method item">
    <h3 class="name"><code>optionalFile</code></h3>

    
        <span class="paren">()</span>
    

    

    

    

    

    

    
        <span class="flag chainable">chainable</span>
    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="..&#x2F;files&#x2F;lib_api.js.html#l906"><code>lib&#x2F;api.js:906</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>Specify that a file may optionally be provided as an input to this call.</p>
    </div>

    

    

    
        <div class="example">
            <h4>Example:</h4>

            <div class="example-content">
                <pre class="code"><code class="prettyprint">api.post("create","/user/profile/").optionalFile("avatar","Users avatar image");
</code></pre>
            </div>
        </div>
    
</div>

                
                    <div id="method_optionals" class="method item">
    <h3 class="name"><code>optionals</code></h3>

    
        <div class="args">
            <span class="paren">(</span><ul class="args-list inline commas">
            
                <li class="arg">
                    
                        <code>name</code>
                    
                </li>
            
            </ul><span class="paren">)</span>
        </div>
    

    

    

    

    

    

    
        <span class="flag chainable">chainable</span>
    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="..&#x2F;files&#x2F;lib_api.js.html#l699"><code>lib&#x2F;api.js:699</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>Specify a number of optionals for  for a call</p>
    </div>

    
        <div class="params">
            <h4>Parameters:</h4>

            <ul class="params-list">
            
                <li class="param">
                    
                        <code class="param-name">name</code>
                        <span class="type">String</span>
                    

                    

                    <div class="param-description">
                        <p>of parameter (+)</p>
                    </div>

                    
                </li>
            
            </ul>
        </div>
    

    

    
        <div class="example">
            <h4>Example:</h4>

            <div class="example-content">
                <pre class="code"><code class="prettyprint">api.post("create","/user/profile/").optionals("email","name","password");
</code></pre>
            </div>
        </div>
    
</div>

                
                    <div id="method_requireRole" class="method item">
    <h3 class="name"><code>requireRole</code></h3>

    
        <span class="paren">()</span>
    

    

    

    

    

    

    

    

    <div class="meta">
        
            
                
                    <p>Provided by the <a href="../modules/User.html">User</a> module.</p>
                
                <p>
                
                Defined in
                
            
        
        
        <a href="..&#x2F;files&#x2F;lib_user.js.html#l84"><code>lib&#x2F;user.js:84</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>Indicates that a user is required to call this function.</p>
    </div>

    

    

    
        <div class="example">
            <h4>Example:</h4>

            <div class="example-content">
                <pre class="code"><code class="prettyprint">Hop.defineClass("UserService",function(api){
    //This will cause this function to return "Permission denied" unless a user is found via Hop.User.hasRole();
    api.get("view","/admin/user/:userID").requireRole("admin");
}); 
</code></pre>
            </div>
        </div>
    
</div>

                
                    <div id="method_requiresUser" class="method item">
    <h3 class="name"><code>requiresUser</code></h3>

    
        <span class="paren">()</span>
    

    

    

    

    

    

    

    

    <div class="meta">
        
            
                
                    <p>Provided by the <a href="../modules/User.html">User</a> module.</p>
                
                <p>
                
                Defined in
                
            
        
        
        <a href="..&#x2F;files&#x2F;lib_user.js.html#l67"><code>lib&#x2F;user.js:67</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>Indicates that a user is required to call this function.</p>
    </div>

    

    

    
        <div class="example">
            <h4>Example:</h4>

            <div class="example-content">
                <pre class="code"><code class="prettyprint">Hop.defineClass("AccountService",function(api){
    //This will cause this function to return "Permission denied" unless a user is found via Hop.User.exists();
    api.get("/account/:accountID").requireUser();
}); 
</code></pre>
            </div>
        </div>
    
</div>

                
                    <div id="method_returnsBoolean" class="method item">
    <h3 class="name"><code>returnsBoolean</code></h3>

    
        <span class="paren">()</span>
    

    

    

    

    

    

    
        <span class="flag chainable">chainable</span>
    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="..&#x2F;files&#x2F;lib_model.js.html#l384"><code>lib&#x2F;model.js:384</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>This call returns a boolean value</p>
    </div>

    

    

    
</div>

                
                    <div id="method_returnsNumber" class="method item">
    <h3 class="name"><code>returnsNumber</code></h3>

    
        <span class="paren">()</span>
    

    

    

    

    

    

    
        <span class="flag chainable">chainable</span>
    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="..&#x2F;files&#x2F;lib_model.js.html#l424"><code>lib&#x2F;model.js:424</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>This call returns a number value</p>
    </div>

    

    

    
</div>

                
                    <div id="method_returnsString" class="method item">
    <h3 class="name"><code>returnsString</code></h3>

    
        <span class="paren">()</span>
    

    

    

    

    

    

    
        <span class="flag chainable">chainable</span>
    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="..&#x2F;files&#x2F;lib_model.js.html#l397"><code>lib&#x2F;model.js:397</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>This call returns a string value</p>
    </div>

    

    

    
</div>

                
                    <div id="method_returnsString" class="method item">
    <h3 class="name"><code>returnsString</code></h3>

    
        <span class="paren">()</span>
    

    

    

    

    

    

    
        <span class="flag chainable">chainable</span>
    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="..&#x2F;files&#x2F;lib_model.js.html#l410"><code>lib&#x2F;model.js:410</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>This call returns a file</p>
    </div>

    

    

    
</div>

                
                    <div id="method_secure" class="method item">
    <h3 class="name"><code>secure</code></h3>

    
        <span class="paren">()</span>
    

    

    

    

    

    

    
        <span class="flag chainable">chainable</span>
    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="..&#x2F;files&#x2F;lib_api.js.html#l768"><code>lib&#x2F;api.js:768</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>Note that this method can only be called using https</p>
    </div>

    

    

    
</div>

                
                    <div id="method_sendCSRFToken" class="method item">
    <h3 class="name"><code>sendCSRFToken</code></h3>

    
        <span class="paren">()</span>
    

    

    

    

    

    

    
        <span class="flag chainable">chainable</span>
    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="..&#x2F;files&#x2F;lib_api.js.html#l784"><code>lib&#x2F;api.js:784</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>Include the express CSRF token in the response headers for this method</p>

<p>The CSRF token is utilized to prevent cross site request forgery attacks, and is a middleware component
for express. </p>

<p>See here for information: http://www.senchalabs.org/connect/middleware-csrf.html</p>

<p>By default HopJS will attempt to utilize the CSRF functionality in express if it is enabled, but 
some clients require a means to access the CSRF token, hence this function will will send the csrf token
in the headers as 'x-crsf-token'</p>

<p>The primary usage for this function is with secure login functions</p>
    </div>

    

    

    
        <div class="example">
            <h4>Example:</h4>

            <div class="example-content">
                <pre class="code"><code class="prettyprint">Hop.defineClass("UserService",UserService,function(api){
    api.post("login","/login").demands("username","password").sendCSRFToken();
});
</code></pre>
            </div>
        </div>
    
</div>

                
                    <div id="method_usage" class="method item">
    <h3 class="name"><code>usage</code></h3>

    
        <div class="args">
            <span class="paren">(</span><ul class="args-list inline commas">
            
                <li class="arg">
                    
                        <code>usage</code>
                    
                </li>
            
            </ul><span class="paren">)</span>
        </div>
    

    

    

    

    

    

    
        <span class="flag chainable">chainable</span>
    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="..&#x2F;files&#x2F;lib_api.js.html#l753"><code>lib&#x2F;api.js:753</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>Describe this method</p>
    </div>

    
        <div class="params">
            <h4>Parameters:</h4>

            <ul class="params-list">
            
                <li class="param">
                    
                        <code class="param-name">usage</code>
                        <span class="type">String</span>
                    

                    

                    <div class="param-description">
                        <p>text describing the function for documentation purposes</p>
                    </div>

                    
                </li>
            
            </ul>
        </div>
    

    

    
</div>

                
            </div>
        

        

        

        
    </div>
</div>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="..&#x2F;assets/vendor/prettify/prettify-min.js"></script>
<script>prettyPrint();</script>
<script src="..&#x2F;assets/js/yui-prettify.js"></script>
<script src="..&#x2F;assets/../api.js"></script>
<script src="..&#x2F;assets/js/api-filter.js"></script>
<script src="..&#x2F;assets/js/api-list.js"></script>
<script src="..&#x2F;assets/js/api-search.js"></script>
<script src="..&#x2F;assets/js/apidocs.js"></script>
</body>
</html>
